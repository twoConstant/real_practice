# 인프런_김영한_실전! 스프링 부트와 JPA 활용1

## Entity 작성 순서
1. 기본 Class 애노테이션, Entity, 기본생성자, 모든생성자, Getter, Setter, 빌더
1. 테이블과 일단 동일하게 작성한다.
2. 객체 관점에서 연관관계를 설정해준다.
3. 프록시 설정을 수정한다.(fetch.LAZY, fetch.EAGER...)
4. 영속성 조건 설정 + 이벤트 로직 작성
5. 제약조건 세팅

## 어려웠던 점
1. Enum 정의할때 어떻게 DB에 반영이 되나? => 그냥 해당 Enum Class 명이 반영이된다.
2. 슈퍼타입 서브타입 ERD 구현 => 참고자료 참고
3. 접근 제어자 어떻게 해야하나? => 엔티티는 private이 기본
4. mappedBy의 name 속성은 객체의 인스턴스 명을 적어주면 되고 OneToMany일때 One이 연관관계의 주인이다.
5. 영속성 전이는 쉽게 List인 애들한테 걸어면된다.

## 새로 알게된점
1. @PreRemove : 해당 엔티티 삭제시 수행 할 비즈니스 로직을 정의 할 수 있다.
    사용 이유는 영속성 관리로 인해 자동으로 삭제되는 경우 해당 삭제되는 엔티티가
    다른 엔티티에 미치는 영향을 수행하고 삭제 할 수 있게된다.
2. 영속성 전이 유형 : Persist, Remove, Merge, Refresh, Detach 가 있으며 All은 전부 적용한다.
3. Embeddable : 별도의 클래스 덩어리로 다른 엔티티에 심을 수 있으며 멤버 변수가 각각의 필도로 심겨진다, != EnumType
    그냥 이넘클래스 한 덩어리가 한 필드로 대응된다.